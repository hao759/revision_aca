import{b as U,e as Y,h as j}from"./chunk-55Y7RW7N.js";import{Ab as J,Ba as Z,Cb as g,Dd as M,H as G,Hd as K,Jd as Q,L as V,Ma as W,Qb as w,R as q,Rb as c,Sb as l,T as O,Tc as N,U as I,Uc as T,X as m,ba as x,bc as $,c as A,ca as _,cc as k,dc as h,ea as H,ec as L,f as b,fc as D,ga as u,ib as a,m as y,mc as r,nb as X,q as p,r as E,va as z,wb as B,xb as v,xd as C,y as P}from"./chunk-XOKJR3V5.js";import{a as s,b as f}from"./chunk-WWX6BADO.js";function nt(e,i){if(e&1&&($(0,"div",3),h(1,"div",4),k()),e&2){let t=r(2);a(),l("width",t.diameter)("height",t.diameter)}}function it(e,i){if(e&1&&h(0,"div",5),e&2){let t=r().ngIf,n=r();l("background",n.color)("height",n.height)("width",t+"%")}}function ot(e,i){if(e&1&&(L(0),g(1,nt,2,4,"div",1)(2,it,1,6,"div",2),D()),e&2){let t=r();a(),c("ngIf",t.includeSpinner),a(),c("ngIf",t.includeBar)}}function rt(e,i){if(e&1&&($(0,"div",3),h(1,"div",4),k()),e&2){let t=r(2);a(),l("width",t.diameter)("height",t.diameter)}}function st(e,i){if(e&1&&h(0,"div",5),e&2){let t=r().ngIf,n=r();l("background",n.color)("height",n.height)("width",t+"%")}}function at(e,i){if(e&1&&(L(0),g(1,rt,2,4,"div",1)(2,st,1,6,"div",2),D()),e&2){let t=r();a(),c("ngIf",t.includeSpinner),a(),c("ngIf",t.includeBar)}}var ct="[_nghost-%COMP%]{position:relative;display:block;pointer-events:none}[_nghost-%COMP%]   .ngx-spinner[_ngcontent-%COMP%]{transition:.35s linear all;display:block;position:absolute;top:5px;left:0}[_nghost-%COMP%]   .ngx-spinner[_ngcontent-%COMP%]   .ngx-spinner-icon[_ngcontent-%COMP%]{width:14px;height:14px;border:solid 2px transparent;border-top-color:inherit;border-left-color:inherit;border-radius:50%;animation:_ngcontent-%COMP%_loading-bar-spinner .4s linear infinite}[_nghost-%COMP%]   .ngx-bar[_ngcontent-%COMP%]{transition:width .35s;position:absolute;top:0;left:0;width:100%;height:2px;border-bottom-right-radius:1px;border-top-right-radius:1px}[dir=rtl]   [_nghost-%COMP%]   .ngx-bar[_ngcontent-%COMP%]{right:0;left:unset}[fixed=true][_nghost-%COMP%]{z-index:10002}[fixed=true][_nghost-%COMP%]   .ngx-bar[_ngcontent-%COMP%]{position:fixed}[fixed=true][_nghost-%COMP%]   .ngx-spinner[_ngcontent-%COMP%]{position:fixed;top:10px;left:10px}[dir=rtl]   [fixed=true][_nghost-%COMP%]   .ngx-spinner[_ngcontent-%COMP%]{right:10px;left:unset}@keyframes _ngcontent-%COMP%_loading-bar-spinner{0%{transform:rotate(0)}to{transform:rotate(360deg)}}",R=class{constructor(i={}){this.config=i,this.state={action:null,value:0,initialValue:0},this.requests=null,this.disabled=!1,this.stream$=new b,this._value$=null,this.timer$=t=>{let n=y(t);switch(t.action){case"start":case"increment":case"set":{t.action==="start"&&this.config.latencyThreshold===0&&t.value===0&&(t.value=t.initialValue),this.requests>0&&(n=P(this.config.latencyThreshold,250).pipe(p(o=>f(s({},t),{value:o===0?this.state.value||t.initialValue:this._increment()}))));break}case"complete":case"stop":{n=t.value===0?y(s({},t)):P(0,500).pipe(G(2),p(o=>({value:o===0?100:0})));break}}return n.pipe(p(o=>f(s({},o),{action:"set"})),m(o=>this.next(o,!1)))},this.config=s({latencyThreshold:0},i)}get value$(){return this._value$?this._value$:this._value$=this.stream$.pipe(O(this.state),I(i=>this.timer$(i)),q(),p(i=>i.value))}start(i=2){this.disabled||this.next({action:"start",initialValue:i})}stop(){this.next({action:"stop"})}complete(){this.next({action:"complete"})}disable(){this.disabled=!0}set(i){this.next({action:"set",value:i})}increment(i=0){this.next({action:"increment",value:i})}next(i,t=!0){switch(i.action){case"start":this.requests=(this.requests||0)+1;break;case"complete":if(this.requests=(this.requests||1)-1,this.requests>0)return;break;case"stop":this.requests=0;break;case"increment":i.value=this._increment(i.value);break}this.state=s(f(s({},this.state),{action:null}),i),t&&this.stream$.next(this.state)}_increment(i=0){let t=this.state.value;return t>=99&&(i=0),i===0&&(t>=0&&t<25?i=Math.random()*3+3:t>=25&&t<65?i=Math.random()*3:t>=65&&t<90?i=Math.random()*2:t>=90&&t<99?i=.5:i=0),i+t}},tt=new H("LOADING_BAR_CONFIG");function Bt(e){return{provide:tt,useValue:e}}var F=(()=>{class e{get progress$(){return this.value$}constructor(t,n={},o){this.platformId=t,this.config=n,this.zone=o,this.refs={},this.streams$=new b,this.value$=this.streams$.pipe(O(null),I(()=>E(Object.keys(this.refs).map(d=>this.refs[d].value$))),lt(this.zone),p(d=>Math.max(0,...d)))}start(t=2){this.useRef().start(t)}set(t){this.useRef().set(t)}increment(t){this.useRef().increment(t)}complete(){this.useRef().complete()}stop(){this.useRef().stop()}useRef(t="default"){return this.refs[t]||(this.refs[t]=new R(this.config),this.streams$.next(),Q(this.platformId)||this.refs[t].disable()),this.refs[t]}static{this.\u0275fac=function(n){return new(n||e)(u(W),u(tt,8),u(Z,8))}}static{this.\u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function lt(e){return e?i=>new A(t=>i.subscribe(n=>e.run(()=>t.next(n)),n=>e.run(()=>t.error(n)),()=>e.run(()=>t.complete()))):i=>i}var dt=(()=>{class e{get value$(){return this.ref?this.loader.useRef(this.ref).value$:this.loader.value$}constructor(t){this.loader=t,this.includeSpinner=!0,this.includeBar=!0,this.fixed=!0,this.color="#29d"}static{this.\u0275fac=function(n){return new(n||e)(X(F))}}static{this.\u0275cmp=B({type:e,selectors:[["ngx-loading-bar"]],hostVars:3,hostBindings:function(n,o){n&2&&(w("fixed",o.fixed),l("color",o.color))},inputs:{includeSpinner:"includeSpinner",includeBar:"includeBar",fixed:"fixed",color:"color",value:"value",ref:"ref",height:"height",diameter:"diameter"},decls:2,vars:3,consts:[[4,"ngIf"],["class","ngx-spinner",4,"ngIf"],["class","ngx-bar",3,"background","height","width",4,"ngIf"],[1,"ngx-spinner"],[1,"ngx-spinner-icon"],[1,"ngx-bar"]],template:function(n,o){n&1&&(g(0,ot,3,2,"ng-container",0),N(1,"async")),n&2&&c("ngIf",o.value!=null?o.value:T(1,1,o.value$))},dependencies:[M,C],styles:["[_nghost-%COMP%]{position:relative;display:block;pointer-events:none}[_nghost-%COMP%]   .ngx-spinner[_ngcontent-%COMP%]{transition:.35s linear all;display:block;position:absolute;top:5px;left:0}[_nghost-%COMP%]   .ngx-spinner[_ngcontent-%COMP%]   .ngx-spinner-icon[_ngcontent-%COMP%]{width:14px;height:14px;border:solid 2px transparent;border-top-color:inherit;border-left-color:inherit;border-radius:50%;animation:_ngcontent-%COMP%_loading-bar-spinner .4s linear infinite}[_nghost-%COMP%]   .ngx-bar[_ngcontent-%COMP%]{transition:width .35s;position:absolute;top:0;left:0;width:100%;height:2px;border-bottom-right-radius:1px;border-top-right-radius:1px}[dir=rtl]   [_nghost-%COMP%]   .ngx-bar[_ngcontent-%COMP%]{right:0;left:unset}[fixed=true][_nghost-%COMP%]{z-index:10002}[fixed=true][_nghost-%COMP%]   .ngx-bar[_ngcontent-%COMP%]{position:fixed}[fixed=true][_nghost-%COMP%]   .ngx-spinner[_ngcontent-%COMP%]{position:fixed;top:10px;left:10px}[dir=rtl]   [fixed=true][_nghost-%COMP%]   .ngx-spinner[_ngcontent-%COMP%]{right:10px;left:unset}@keyframes _ngcontent-%COMP%_loading-bar-spinner{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"],changeDetection:0})}}return e})(),wt=(()=>{class e extends dt{static{this.\u0275fac=(()=>{let t;return function(o){return(t||(t=z(e)))(o||e)}})()}static{this.\u0275cmp=B({type:e,selectors:[["ngx-loading-bar"]],hostVars:3,hostBindings:function(n,o){n&2&&(w("fixed",o.fixed),l("color",o.color))},standalone:!1,features:[J],decls:2,vars:3,consts:[[4,"ngIf"],["class","ngx-spinner",4,"ngIf"],["class","ngx-bar",3,"background","height","width",4,"ngIf"],[1,"ngx-spinner"],[1,"ngx-spinner-icon"],[1,"ngx-bar"]],template:function(n,o){n&1&&(g(0,at,3,2,"ng-container",0),N(1,"async")),n&2&&c("ngIf",o.value!=null?o.value:T(1,1,o.value$))},dependencies:[C,M],styles:[ct],changeDetection:0})}}return e})(),S=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=v({type:e})}static{this.\u0275inj=_({imports:[K]})}}return e})();var ut=new U(()=>!1),gt=(()=>{class e{constructor(t){this.loader=t}intercept(t,n){if(t.context.get(ut)===!0)return n.handle(t);let o=!1,d=this.loader.useRef("http");return n.handle(t).pipe(m(()=>{o||(d.start(),o=!0)}),V(()=>o&&d.complete()))}static{this.\u0275fac=function(n){return new(n||e)(u(F))}}static{this.\u0275prov=x({token:e,factory:e.\u0275fac})}}return e})();var Nt=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=v({type:e})}static{this.\u0275inj=_({providers:[{provide:Y,useClass:gt,multi:!0}],imports:[j,S,j,S]})}}return e})();export{Bt as a,wt as b,Nt as c};
