import{b as it,c as nt}from"./chunk-EJMYRJUN.js";import{c as H}from"./chunk-Y3NE2SNJ.js";import{a as P}from"./chunk-CWM7VNHW.js";import{a as tt}from"./chunk-26M4WOOW.js";import{a as G}from"./chunk-RJESRZJ5.js";import{Fa as ze,Ma as Xe,N as Ke,Na as Je,Oa as Ye,Pa as Ze,Y as je,da as Ne,fb as $e,gb as et,pa as Qe,ua as Ge,va as He,z as Ue}from"./chunk-OVEX3KHJ.js";import{a as B}from"./chunk-FYYLBBTR.js";import{Cb as Le,Ga as we,H as re,I as se,Jb as De,Kb as We,L as _e,Lb as Be,Ma as Ee,N as de,Nb as qe,O as pe,P as me,Pa as Ie,Q as ue,R as ge,S as he,T as be,U as fe,Va as Se,W,Wa as Te,X as Ce,Z as xe,aa as Ae,d as ce,fb as Fe,hb as Ve,ia as ke,ib as Me,kb as Oe,ma as ve,vb as Re,wb as Pe,ya as ye}from"./chunk-55Y7RW7N.js";import{Ac as c,Bc as V,Bd as oe,Cb as y,Cc as A,Dc as F,Ed as ae,Fc as b,Gc as f,Hc as C,Hd as le,Lc as ee,Nc as w,Rb as _,Sb as Z,Tc as L,Vb as $,Vc as D,ba as X,bc as n,cc as a,db as R,dc as x,ec as N,fc as Q,ga as J,hc as k,ib as l,kc as h,mc as p,nb as j,ra as m,sa as u,ta as v,ua as O,vd as te,wb as Y,wd as ie,xd as ne}from"./chunk-XOKJR3V5.js";import{g as z}from"./chunk-WWX6BADO.js";var lt=z(tt());var ot=z(tt());var at=(()=>{class s{constructor(e){this.httpClient=e,this.attendanceAbbottAPI=B.apiUrl+"AttendanceAi/",this.attendanceQCAPI=B.apiUrl+"AttendanceAiCiCo/",this.detectAI=B.apiUrl+"DetectAI/"}GetListAttendanceAI(e,i,t,o=1){return this.httpClient.post(this.attendanceAbbottAPI+"ewo_attendance_ai_getall",{empid:e,att_code:i,work_date:t,status:o})}ewo_ATD_filterAttendance(e,i,t,o,r,d,E,S,T,M,q,U,K){return this.httpClient.post(this.attendanceAbbottAPI+"ewo_ATD_filterAttendance",{qc_id:e,project_id:i,att_code:t,shop_code:o,from_date:r,to_date:d,statusAI:E,statusQC:S,guild_id:T,rowPerPage:M,pageNumber:q,qc_lock:U,id_BC:K})}ewo_ATD_updateEmployees(e,i,t,o,r,d,E,S,T,M){return this.httpClient.post(this.attendanceAbbottAPI+"ewo_ATD_updateEmployees_2",{user_id:e,project_id:i,type:t,fail_reason:o,final_result:r,id_BC:d,note:E,faceId:parseInt(S),location:parseInt(T),logo:parseInt(M)})}recheck_ResultAICiCo(e,i,t,o,r,d){return this.httpClient.post(this.attendanceQCAPI+"recheck_ResultAICiCo",{img1:e,img2:i,user_id:o,project_id:t,id_BC:r,type:d})}ewo_ATD_lockAttendance(e,i,t,o,r,d){return this.httpClient.post(this.attendanceAbbottAPI+"ewo_ATD_lockAttendance",{user_id:e,project_id:i,att_code:t,work_date:o,ci_time:r,id_BC:d})}ExportAttendanceAI(e,i,t,o,r,d,E,S,T,M,q){let U=this.attendanceAbbottAPI+"ewo_ATD_exportAttendance",K={responseType:"blob"},ct={project_id:e,user_id:i,from_date:t,to_date:o,att_code:r,shop_code:d,statusAI:E,statusQC:S,guild_id:T,qc_lock:M,id_BC:q};return this.httpClient.post(U,ct,K)}saveFile(e,i=".xlsx",t=""){let o=new Date,r="download_"+t+"_"+o.getFullYear().toString()+(o.getMonth()+1)+o.getDate()+o.toLocaleTimeString().replace(/[ ]|[,]|[:]/g,"").trim()+i;(0,ot.saveAs)(e,r)}SwitchAttendanceDetectAI(e,i,t,o,r,d,E,S,T){return this.httpClient.post(this.attendanceAbbottAPI+"ewo_ATD_switchAttendanceDetectAI",{user_id:e,project_id:i,att_code:t,type:o,attribute:r,verify:d,work_date:E,ci_time:S,id_BC:T})}detectAi_updateImgProfile(e,i,t,o,r,d){return this.httpClient.post(this.attendanceQCAPI+"detectAi_updateImgProfileCiCo",{user_id:e,project_id:i,photo_link:t,att_code:o,employee_name:r,id_BC:d})}detectAi_commentNote(e,i,t,o,r,d,E){return this.httpClient.post(this.attendanceAbbottAPI+"detectAi_commentNote",{att_code:e,ci_time:i,work_date:t,project_id:o,user_id:r,comment:d,id_BC:E})}ATD_ImportEmpLock(e){let i=this.attendanceAbbottAPI+"ATD_ImportEmpLock",t={responseType:"blob"};return this.httpClient.post(i,e,t)}ATD_ImportEmpUnLock(e){let i=this.attendanceAbbottAPI+"ATD_ImportEmpUnLock",t={responseType:"blob"};return this.httpClient.post(i,e,t)}DetectAI_getTemplateCiCo(e,i){let t=this.attendanceAbbottAPI+"DetectAI_getTemplateCiCo",o={responseType:"blob"},r={project_id:e,user_id:i};return this.httpClient.post(t,r,o).subscribe(d=>{this.saveFile(d,".xlsx","template")})}DetectAI_getTemplateUnlockCiCo(e,i){let t=this.attendanceAbbottAPI+"DetectAI_getTemplateUnlockCiCo",o={responseType:"blob"},r={project_id:e,user_id:i};return this.httpClient.post(t,r,o).subscribe(d=>{this.saveFile(d,".xlsx","template")})}ewo_ATD_uploadImgProfile(e,i,t,o,r){return r.append("user_id",e.toString()),r.append("project_id",i.toString()),r.append("id_BC",t.toString()),r.append("emp_code",o.toString()),this.httpClient.post(this.attendanceQCAPI+"ewo_ATD_uploadImgProfile",r)}get_color_font_shopcode_revision(e){let i=this.detectAI+"get_color_font_shopcode_revision",t=new FormData;return t.append("project_id",e.toString()),this.httpClient.post(i,t)}static{this.\u0275fac=function(i){return new(i||s)(J(ce))}}static{this.\u0275prov=X({token:s,factory:s.\u0275fac,providedIn:"root"})}}return s})();var I=s=>({"text-danger":s}),_t=s=>({color:s});function dt(s,g){if(s&1){let e=k();n(0,"button",23),h("click",function(){m(e);let t=p();return u(t.showImportFile=!t.showImportFile)}),v(),x(1,"svg",44),c(2," Kh\xF3a ATD"),a()}}function pt(s,g){if(s&1){let e=k();n(0,"div",45)(1,"div",46)(2,"p",47),c(3,"Lock: "),a(),n(4,"input",48),h("change",function(t){m(e);let o=p();return u(o.onFileChange(t,"lock"))}),a(),n(5,"button",23),h("click",function(){m(e);let t=p();return u(t.importFileLock("lock"))}),c(6," Submit"),a(),n(7,"button",49),h("click",function(){m(e);let t=p();return u(t.getTemplate("lock"))}),v(),x(8,"svg",50),c(9," Get Teamplate "),a()(),O(),n(10,"div",51)(11,"p",47),c(12,"Unlock: "),a(),n(13,"input",52),h("change",function(t){m(e);let o=p();return u(o.onFileChange(t,"unlock"))}),a(),n(14,"button",23),h("click",function(){m(e);let t=p();return u(t.importFileLock("unlock"))}),c(15," Submit"),a(),n(16,"button",49),h("click",function(){m(e);let t=p();return u(t.getTemplate("unlock"))}),v(),x(17,"svg",50),c(18," Get Teamplate "),a()()()}}function mt(s,g){s&1&&(n(0,"div",53),x(1,"i",54),n(2,"span",55),c(3,"\u0110ang load d\u1EEF li\u1EC7u"),a()())}function ut(s,g){if(s&1&&(n(0,"span"),c(1),a()),s&2){let e=p();l(),F(" Total: ",e.listAttendance[e.listAttendance.length-1].RowNumber," / ",(e.listAttendance[0]==null?null:e.listAttendance[0].TotalRows)||"0",`
`)}}function gt(s,g){s&1&&(N(0),n(1,"tr")(2,"td",61),c(3,"Ch\u01B0a c\xF3 d\u1EEF li\u1EC7u"),a()(),Q())}function ht(s,g){s&1&&(v(),x(0,"svg",85))}function bt(s,g){s&1&&(v(),x(0,"svg",86))}function ft(s,g){if(s&1&&(n(0,"div")(1,"p",66),c(2),a(),n(3,"p",66),c(4),a(),n(5,"p",66),c(6),a()()),s&2){let e=p().$implicit;l(),_("ngClass",w(6,I,e.ci_FaceVerifyAiOk==="0")),l(),A(" FaceID: ",e.ci_FaceVerifyAiOk=="1"?"True":e.ci_FaceVerifyAiOk=="0"?"False":""," "),l(),_("ngClass",w(8,I,e.ci_LocationAiOk=="0")),l(),A(" Location: ",e.ci_LocationAiOk=="1"?"True":e.ci_LocationAiOk=="0"?"False":""," "),l(),_("ngClass",w(10,I,e.ci_brandAiOk==="0")),l(),A(" Logo: ",e.ci_brandAiOk=="1"?"True":e.ci_brandAiOk=="0"?"False":""," ")}}function Ct(s,g){s&1&&(v(),x(0,"svg",87))}function xt(s,g){s&1&&(v(),x(0,"svg",85))}function At(s,g){s&1&&(v(),x(0,"svg",86))}function kt(s,g){if(s&1&&(n(0,"div")(1,"p",66),c(2),a(),n(3,"p",66),c(4),a(),n(5,"p",66),c(6),a()()),s&2){let e=p().$implicit;l(),_("ngClass",w(6,I,e.co_FaceVerifyAiOk==="0")),l(),A(" FaceID: ",e.co_FaceVerifyAiOk=="1"?"True":e.co_FaceVerifyAiOk=="0"?"False":""," "),l(),_("ngClass",w(8,I,e.co_LocationAiOk=="0")),l(),A(" Location: ",e.co_LocationAiOk=="1"?"True":e.co_LocationAiOk=="0"?"False":""," "),l(),_("ngClass",w(10,I,e.co_brandAiOk=="0")),l(),A(" Logo: ",e.co_brandAiOk=="1"?"True":e.co_brandAiOk=="0"?"False":""," ")}}function vt(s,g){s&1&&(v(),x(0,"svg",87))}function yt(s,g){s&1&&(v(),x(0,"svg",88))}function wt(s,g){s&1&&(v(),x(0,"svg",89))}function Et(s,g){if(s&1){let e=k();n(0,"button",90),h("click",function(){m(e);let t=p(),o=t.$implicit,r=t.index,d=p(2);return u(d.confirmUpdateImage(o,r))}),v(),x(1,"svg",91),a()}}function It(s,g){if(s&1){let e=k();n(0,"img",92),h("click",function(){m(e);let t=p().$implicit,o=p(2);return u(o.showImagePopup(t.image?t.image:"../../../../assets/images/avatars/default-avatar.jpg"))}),a()}if(s&2){let e=p().$implicit;_("src",e.image,R)}}function St(s,g){s&1&&x(0,"img",93)}function Tt(s,g){if(s&1&&(n(0,"p"),c(1),L(2,"date"),a()),s&2){let e=p().$implicit;l(),V(D(2,1,e.ci_time,"dd/MM/yyyy HH:mm:ss"))}}function Ft(s,g){s&1&&(n(0,"p"),c(1,"--/--/---"),a())}function Vt(s,g){s&1&&(n(0,"div",96)(1,"span",97),c(2,"Loading..."),a()())}function Mt(s,g){if(s&1){let e=k();n(0,"button",23),h("click",function(){m(e);let t=p(2),o=t.$implicit,r=t.index,d=p(2);return u(d.handleDetectAI(r,o,"checkin"))}),v(),x(1,"svg",98),c(2," Detect "),a()}}function Ot(s,g){if(s&1){let e=k();n(0,"div",94),y(1,Vt,3,0,"div",95)(2,Mt,3,0,"button",26),n(3,"button",23),h("click",function(){m(e);let t=p(),o=t.$implicit,r=t.index,d=p(2);return u(d.confirmChangeImage(o,r,"checkin"))}),v(),x(4,"svg",91),a()()}if(s&2){let e=p().$implicit,i=p(2);l(),_("ngIf",i.loadding_detect_ci),l(),_("ngIf",e.image&&e.ci_photo)}}function Rt(s,g){if(s&1){let e=k();n(0,"img",99),h("click",function(){m(e);let t=p().$implicit,o=p(2);return u(o.showImagePopup(t.ci_photo?t.ci_photo:"../../../../assets/images/avatars/default-avatar.jpg"))}),a()}if(s&2){let e=p().$implicit;_("src",e.ci_photo,R)}}function Pt(s,g){s&1&&x(0,"img",93)}function Lt(s,g){if(s&1){let e=k();n(0,"div")(1,"c-form-check")(2,"input",119),h("change",function(t){let o=m(e).$implicit,r=p(3).index,d=p(2);return u(d.handleRadioChange(r,o.key,t,!0))}),a(),n(3,"label",111),c(4),a()()()}if(s&2){let e=g.$implicit,i=p(3),t=i.$implicit,o=i.index,r=p(2);l(2),_("id",t.key+o)("disabled",t.qc_lock===1)("checked",r.isCheckedCI(o,e.key))("name","CI-"+t.key+"-"+o),l(2),A(" ",e.label," ")}}function Dt(s,g){if(s&1){let e=k();n(0,"div",120)(1,"input",121),C("ngModelChange",function(t){m(e);let o=p(3).index,r=p(2);return f(r.reasonAnotherFailCI[o],t)||(r.reasonAnotherFailCI[o]=t),u(t)}),a()()}if(s&2){let e=p(3),i=e.$implicit,t=e.index,o=p(2);l(),b("ngModel",o.reasonAnotherFailCI[t]),_("disabled",i.qc_lock===1)}}function Wt(s,g){if(s&1&&(n(0,"div",117),y(1,Lt,5,5,"div",60)(2,Dt,2,2,"div",118),a()),s&2){let e=p(2).index,i=p(2);l(),_("ngForOf",i.listFailAttendance),l(),_("ngIf",i.visiableReasonAnotherCI[e])}}function Bt(s,g){if(s&1){let e=k();n(0,"div",57)(1,"button",122),h("click",function(){m(e);let t=p(2).index,o=p(2);return u(o.updateCheckAttendance(t,"checkin"))}),c(2," C\u1EADp nh\u1EADt "),v(),x(3,"svg",123),a()()}}function qt(s,g){if(s&1){let e=k();n(0,"div")(1,"div",100)(2,"h4",101),c(3," AI Detect Result "),a(),n(4,"div",102)(5,"label",103)(6,"span"),c(7,"Face ID:"),a(),n(8,"div",20)(9,"span"),c(10),a(),n(11,"select",104),C("ngModelChange",function(t){m(e);let o=p().$implicit;return f(o.ci_FaceVerifyOk,t)||(o.ci_FaceVerifyOk=t),u(t)}),n(12,"option",105),c(13,"\u0110\xFAng"),a(),n(14,"option",105),c(15,"Sai"),a(),n(16,"option",105),c(17,"---"),a()()()(),n(18,"label",103)(19,"span"),c(20,"Location:"),a(),n(21,"div",20)(22,"span"),c(23),a(),n(24,"select",104),C("ngModelChange",function(t){m(e);let o=p().$implicit;return f(o.ci_LocationOk,t)||(o.ci_LocationOk=t),u(t)}),n(25,"option",105),c(26,"\u0110\xFAng"),a(),n(27,"option",105),c(28,"Sai"),a(),n(29,"option",105),c(30,"---"),a()()()(),n(31,"label",103)(32,"span"),c(33,"Logo:"),a(),n(34,"div")(35,"span"),c(36),a(),n(37,"select",104),C("ngModelChange",function(t){m(e);let o=p().$implicit;return f(o.ci_brandOk,t)||(o.ci_brandOk=t),u(t)}),n(38,"option",105),c(39,"\u0110\xFAng"),a(),n(40,"option",105),c(41,"Sai"),a(),n(42,"option",105),c(43,"---"),a()()()()()(),n(44,"div",106)(45,"div",107)(46,"div",108)(47,"c-form-check",109)(48,"input",110),C("ngModelChange",function(t){m(e);let o=p().index,r=p(2);return f(r.final_result[o],t)||(r.final_result[o]=t),u(t)}),a(),n(49,"label",111),c(50,"\u0110\u1EA1t"),a()(),n(51,"c-form-check",109)(52,"input",112),C("ngModelChange",function(t){m(e);let o=p().index,r=p(2);return f(r.final_result[o],t)||(r.final_result[o]=t),u(t)}),a(),n(53,"label",111),c(54,"Kh\xF4ng \u0111\u1EA1t"),a()()(),n(55,"div",108)(56,"c-form-check",109)(57,"input",113),C("ngModelChange",function(t){m(e);let o=p().index,r=p(2);return f(r.final_result[o],t)||(r.final_result[o]=t),u(t)}),a(),n(58,"label",111),c(59,"Kh\xF4ng x\xE1c \u0111\u1ECBnh"),a()(),n(60,"c-form-check",109)(61,"input",114),C("ngModelChange",function(t){m(e);let o=p().index,r=p(2);return f(r.final_result[o],t)||(r.final_result[o]=t),u(t)}),a(),n(62,"label",111),c(63,"Kh\xF4ng \u0111\u1EA1t \u0111\u1ED3ng ph\u1EE5c"),a()()()(),y(64,Wt,3,2,"div",115)(65,Bt,4,0,"div",116),a()()}if(s&2){let e=p(),i=e.$implicit,t=e.index,o=p(2);l(10),A(" ",i.ci_FaceVerifyAiOk=="1"?"True":i.ci_FaceVerifyAiOk=="0"?"False":"__"," "),l(),b("ngModel",i.ci_FaceVerifyOk),_("disabled",i.qc_lock===1),l(),_("value",1),l(2),_("value",0),l(2),_("value",null),l(7),A(" ",i.ci_LocationAiOk=="1"?"True":i.ci_LocationAiOk=="0"?"False":"__"," "),l(),b("ngModel",i.ci_LocationOk),_("disabled",i.qc_lock===1),l(),_("value",1),l(2),_("value",0),l(2),_("value",null),l(7),A(" ",i.ci_brandAiOk=="1"?"True":i.ci_brandAiOk=="0"?"False":"__"," "),l(),b("ngModel",i.ci_brandOk),_("disabled",i.qc_lock===1),l(),_("value",1),l(2),_("value",0),l(2),_("value",null),l(6),_("name","flexRadioCheck"+t)("disabled",i.qc_lock===1),b("ngModel",o.final_result[t]),l(4),_("name","flexRadioCheck"+t)("disabled",i.qc_lock===1),b("ngModel",o.final_result[t]),l(5),_("name","flexRadioCheck"+t)("disabled",i.qc_lock===1),b("ngModel",o.final_result[t]),l(4),_("name","flexRadioCheck"+t)("disabled",i.qc_lock===1),b("ngModel",o.final_result[t]),l(3),_("ngIf",o.final_result[t]==="false"),l(),_("ngIf",i.qc_lock!==1)}}function Ut(s,g){if(s&1&&(n(0,"p"),c(1),L(2,"date"),a()),s&2){let e=p().$implicit;l(),V(D(2,1,e.co_time,"dd/MM/yyyy HH:mm:ss"))}}function Kt(s,g){s&1&&(n(0,"p"),c(1,"--/--/---"),a())}function jt(s,g){s&1&&(n(0,"div",96)(1,"span",97),c(2,"Loading..."),a()())}function Nt(s,g){if(s&1){let e=k();n(0,"button",23),h("click",function(){m(e);let t=p(2),o=t.$implicit,r=t.index,d=p(2);return u(d.handleDetectAI(r,o,"checkout"))}),v(),x(1,"svg",98),c(2," Detect "),a()}}function Qt(s,g){if(s&1){let e=k();n(0,"div",94),y(1,jt,3,0,"div",95)(2,Nt,3,0,"button",26),n(3,"button",23),h("click",function(){m(e);let t=p(),o=t.$implicit,r=t.index,d=p(2);return u(d.confirmChangeImage(o,r,"checkout"))}),v(),x(4,"svg",91),a()()}if(s&2){let e=p().$implicit,i=p(2);l(),_("ngIf",i.loadding_detect_co),l(),_("ngIf",e.image&&e.co_photo)}}function Gt(s,g){if(s&1){let e=k();n(0,"img",99),h("click",function(){m(e);let t=p().$implicit,o=p(2);return u(o.showImagePopup(t.co_photo?t.co_photo:"../../../../assets/images/avatars/default-avatar.jpg"))}),a()}if(s&2){let e=p().$implicit;_("src",e.co_photo,R)}}function Ht(s,g){s&1&&x(0,"img",93)}function zt(s,g){if(s&1){let e=k();n(0,"div")(1,"c-form-check")(2,"input",119),h("change",function(t){let o=m(e).$implicit,r=p(3).index,d=p(2);return u(d.handleRadioChange(r,o.key,t,!1))}),a(),n(3,"label",111),c(4),a()()()}if(s&2){let e=g.$implicit,i=p(3),t=i.$implicit,o=i.index,r=p(2);l(2),_("id",e.key+o)("disabled",t.qc_lock===1)("checked",r.isCheckedCO(o,e.key))("name","CO-"+t.key+"-"+o),l(2),A(" ",e.label," ")}}function Xt(s,g){if(s&1){let e=k();n(0,"div",120)(1,"input",121),C("ngModelChange",function(t){m(e);let o=p(3).index,r=p(2);return f(r.reasonAnotherFailCO[o],t)||(r.reasonAnotherFailCO[o]=t),u(t)}),a()()}if(s&2){let e=p(3),i=e.$implicit,t=e.index,o=p(2);l(),b("ngModel",o.reasonAnotherFailCO[t]),_("disabled",i.qc_lock===1)}}function Jt(s,g){if(s&1&&(n(0,"div",125),y(1,zt,5,5,"div",60)(2,Xt,2,2,"div",118),a()),s&2){let e=p(2).index,i=p(2);l(),_("ngForOf",i.listFailAttendance),l(),_("ngIf",i.visiableReasonAnotherCO[e])}}function Yt(s,g){if(s&1){let e=k();n(0,"div")(1,"button",122),h("click",function(){m(e);let t=p(2).index,o=p(2);return u(o.updateCheckAttendance(t,"checkout"))}),c(2," C\u1EADp nh\u1EADt "),v(),x(3,"svg",123),a()()}}function Zt(s,g){if(s&1){let e=k();n(0,"div")(1,"div",100)(2,"h4",101),c(3," AI Detect Result "),a(),n(4,"div",102)(5,"label",103)(6,"span"),c(7,"Face ID:"),a(),n(8,"div")(9,"span"),c(10),a(),n(11,"select",104),C("ngModelChange",function(t){m(e);let o=p().$implicit;return f(o.co_FaceVerifyOk,t)||(o.co_FaceVerifyOk=t),u(t)}),n(12,"option",105),c(13,"\u0110\xFAng"),a(),n(14,"option",105),c(15,"Sai"),a(),n(16,"option",105),c(17,"---"),a()()()(),n(18,"label",103)(19,"span"),c(20,"Location:"),a(),n(21,"div",20)(22,"span"),c(23),a(),n(24,"select",104),C("ngModelChange",function(t){m(e);let o=p().$implicit;return f(o.co_LocationOk,t)||(o.co_LocationOk=t),u(t)}),n(25,"option",105),c(26,"\u0110\xFAng"),a(),n(27,"option",105),c(28,"Sai"),a(),n(29,"option",105),c(30,"---"),a()()()(),n(31,"label",103)(32,"span"),c(33,"Logo:"),a(),n(34,"div",20)(35,"span"),c(36),a(),n(37,"select",104),C("ngModelChange",function(t){m(e);let o=p().$implicit;return f(o.co_brandOk,t)||(o.co_brandOk=t),u(t)}),n(38,"option",105),c(39,"\u0110\xFAng"),a(),n(40,"option",105),c(41,"Sai"),a(),n(42,"option",105),c(43,"---"),a()()()()()(),n(44,"div",106)(45,"div",107)(46,"div",108)(47,"c-form-check",109)(48,"input",110),C("ngModelChange",function(t){m(e);let o=p().index,r=p(2);return f(r.co_final_result[o],t)||(r.co_final_result[o]=t),u(t)}),a(),n(49,"label",111),c(50,"\u0110\u1EA1t"),a()(),n(51,"c-form-check",109)(52,"input",112),C("ngModelChange",function(t){m(e);let o=p().index,r=p(2);return f(r.co_final_result[o],t)||(r.co_final_result[o]=t),u(t)}),a(),n(53,"label",111),c(54,"Kh\xF4ng \u0111\u1EA1t"),a()()(),n(55,"div",108)(56,"c-form-check",109)(57,"input",113),C("ngModelChange",function(t){m(e);let o=p().index,r=p(2);return f(r.co_final_result[o],t)||(r.co_final_result[o]=t),u(t)}),a(),n(58,"label",111),c(59,"Kh\xF4ng x\xE1c \u0111\u1ECBnh"),a()(),n(60,"c-form-check",109)(61,"input",114),C("ngModelChange",function(t){m(e);let o=p().index,r=p(2);return f(r.co_final_result[o],t)||(r.co_final_result[o]=t),u(t)}),a(),n(62,"label",111),c(63,"Kh\xF4ng \u0111\u1EA1t \u0111\u1ED3ng ph\u1EE5c"),a()()()(),y(64,Jt,3,2,"div",124)(65,Yt,4,0,"div",31),a()()}if(s&2){let e=p(),i=e.$implicit,t=e.index,o=p(2);l(10),A(" ",i.co_FaceVerifyAiOk=="1"?"True":i.co_FaceVerifyAiOk=="0"?"False":"__"," "),l(),b("ngModel",i.co_FaceVerifyOk),_("disabled",i.qc_lock===1),l(),_("value",1),l(2),_("value",0),l(2),_("value",null),l(7),A(" ",i.co_LocationAiOk=="1"?"True":i.co_LocationAiOk=="0"?"False":"__"," "),l(),b("ngModel",i.co_LocationOk),_("disabled",i.qc_lock===1),l(),_("value",1),l(2),_("value",0),l(2),_("value",null),l(7),A(" ",i.co_brandAiOk=="1"?"True":i.co_brandAiOk=="0"?"False":"__"," "),l(),b("ngModel",i.co_brandOk),_("disabled",i.qc_lock===1),l(),_("value",1),l(2),_("value",0),l(2),_("value",null),l(6),_("name","flexRadioCheck_CO"+t)("disabled",i.qc_lock===1),b("ngModel",o.co_final_result[t]),l(4),_("name","flexRadioCheck_CO"+t)("disabled",i.qc_lock===1),b("ngModel",o.co_final_result[t]),l(5),_("name","flexRadioCheck_CO"+t)("disabled",i.qc_lock===1),b("ngModel",o.co_final_result[t]),l(4),_("name","flexRadioCheck_CO"+t)("disabled",i.qc_lock===1),b("ngModel",o.co_final_result[t]),l(3),_("ngIf",o.co_final_result[t]==="false"),l(),_("ngIf",i.qc_lock!==1)}}function $t(s,g){if(s&1){let e=k();N(0),n(1,"tr")(2,"td"),c(3),a(),n(4,"td"),c(5),a(),n(6,"td"),c(7),a(),n(8,"td"),c(9,"CI AI: "),n(10,"span",62),c(11),y(12,ht,1,0,"svg",63)(13,bt,1,0,"svg",64),a(),y(14,ft,7,12,"div",31)(15,Ct,1,0,"svg",65),a(),n(16,"td")(17,"div")(18,"p",66),c(19),a(),n(20,"p",66),c(21),a(),n(22,"p",66),c(23),a()()(),n(24,"td"),c(25),a(),n(26,"td"),c(27,"CO AI: "),n(28,"span",62),c(29),a(),y(30,xt,1,0,"svg",63)(31,At,1,0,"svg",64)(32,kt,7,12,"div",31)(33,vt,1,0,"svg",65),a(),n(34,"td")(35,"div")(36,"p",66),c(37),a(),n(38,"p",66),c(39),a(),n(40,"p",66),c(41),a()()(),n(42,"td"),c(43),a(),n(44,"td"),c(45),a(),n(46,"td"),c(47),a(),n(48,"td"),c(49),L(50,"date"),a(),n(51,"td")(52,"div",67),h("click",function(){let t=m(e).$implicit,o=p(2);return u(o.openConfirmModal(t))}),y(53,yt,1,0,"svg",68)(54,wt,1,0,"svg",69),c(55),a()()(),n(56,"tr")(57,"td",70)(58,"div",11)(59,"div",71)(60,"label",72),c(61,"H\xECnh Profile"),a(),n(62,"p"),c(63,"-------"),a(),n(64,"div",73),y(65,Et,2,0,"button",74),a(),n(66,"div",20),y(67,It,1,1,"img",75)(68,St,1,0,"img",76),a()(),n(69,"div",77)(70,"label",78),c(71,"Check-in"),a(),y(72,Tt,3,4,"p",31)(73,Ft,2,0,"p",31)(74,Ot,5,2,"div",79)(75,Rt,1,1,"img",80)(76,Pt,1,0,"img",76)(77,qt,66,32,"div",31),a(),n(78,"div",77)(79,"label",81),c(80,"Check-out"),a(),y(81,Ut,3,4,"p",31)(82,Kt,2,0,"p",31)(83,Qt,5,2,"div",79)(84,Gt,1,1,"img",80)(85,Ht,1,0,"img",76)(86,Zt,66,32,"div",31),a(),n(87,"div",82)(88,"textarea",83),C("ngModelChange",function(t){let o=m(e).index,r=p(2);return f(r.commentText[o],t)||(r.commentText[o]=t),u(t)}),a(),n(89,"button",84),h("click",function(){let t=m(e),o=t.$implicit,r=t.index,d=p(2);return u(d.submitComment(o,r))}),c(90," L\u01B0u ghi ch\xFA "),a()()()()(),Q()}if(s&2){let e=g.$implicit,i=g.index,t=p(2);l(3),V(e.id),l(2),V(e.guid_code),l(2),F("",e.att_code," - ",e.emp_name,""),l(3),_("ngClass",w(62,I,e.ci_result=="false")),l(),A(" ",e.ci_result=="false"?"False":e.ci_result=="true"?"True":""," "),l(),_("ngIf",e.ci_result=="true"),l(),_("ngIf",e.ci_result=="false"),l(),_("ngIf",e.ci_result),l(),_("ngIf",!e.ci_result),l(3),_("ngClass",w(64,I,e.ci_FaceVerifyOk=="0")),l(),A(" FaceID: ",e.ci_FaceVerifyOk=="1"?"True":e.ci_FaceVerifyOk=="0"?"False":""," "),l(),_("ngClass",w(66,I,e.ci_LocationOk=="0")),l(),A(" Location: ",e.ci_LocationOk=="1"?"True":e.ci_LocationOk=="0"?"False":""," "),l(),_("ngClass",w(68,I,e.ci_brandOk=="0")),l(),A(" Logo: ",e.ci_brandOk=="1"?"True":e.ci_brandOk=="0"?"False":""," "),l(2),F(" ",e.ci_final_result=="True"||e.ci_final_result=="true"?"\u0110\u1EA1t":e.ci_final_result==="wrong_unifrom"?"Kh\xF4ng \u0111\u1EA1t \u0111\u1ED3ng ph\u1EE5c":e.ci_final_result==="unidentified"?"Kh\xF4ng x\xE1c \u0111\u1ECBnh":e.ci_fail_reason?"Kh\xF4ng \u0111\u1EA1t: "+e.ci_fail_reason:""," ",e.ci_reason_id==1?": "+e.ci_note:""," "),l(3),_("ngClass",w(70,I,e.co_result==="false")),l(),A(" ",e.co_result=="false"?"False":e.co_result=="true"?"True":""," "),l(),_("ngIf",e.co_result=="true"),l(),_("ngIf",e.co_result=="false"),l(),_("ngIf",e.co_result),l(),_("ngIf",!e.co_result),l(3),_("ngClass",w(72,I,e.co_FaceVerifyOk=="0")),l(),A(" FaceID: ",e.co_FaceVerifyOk=="1"?"True":e.co_FaceVerifyOk=="0"?"False":""," "),l(),_("ngClass",w(74,I,e.co_LocationOk=="0")),l(),A(" Location: ",e.co_LocationOk=="1"?"True":e.co_LocationOk=="0"?"False":""," "),l(),_("ngClass",w(76,I,e.co_brandOk=="0")),l(),A(" Logo: ",e.co_brandOk=="1"?"True":e.co_brandOk=="0"?"False":""," "),l(2),F(" ",e.co_final_result==="true"||e.co_final_result==="True"?"\u0110\u1EA1t":e.co_final_result==="wrong_unifrom"?"Kh\xF4ng \u0111\u1EA1t \u0111\u1ED3ng ph\u1EE5c":e.co_final_result==="unidentified"?"Kh\xF4ng x\xE1c \u0111\u1ECBnh":e.co_fail_reason?"Kh\xF4ng \u0111\u1EA1t: "+e.co_fail_reason:""," ",e.co_reason_id==1?": "+e.co_note:""," "),l(),Z("color",t.list_shop.includes(e.shop_code)?t.color_font_shopcode:"#000000"),l(),F(" ",e.shop_code," - ",e.shop_name," "),l(2),V(e.work_date),l(2),F("",e.employee_name," - ",D(50,59,e.qc_date,"dd/MM/yyyy HH:mm"),""),l(3),_("ngStyle",w(78,_t,e.qc_lock==1?"red":"black")),l(),_("ngIf",e.qc_lock==1),l(),_("ngIf",e.qc_lock==0||e.qc_lock==null),l(),A(" ",e.qc_lock==1?"\u0110\xE3 kho\xE1":"Ch\u01B0a kho\xE1"," "),l(10),_("ngIf",e.qc_lock!==1),l(2),_("ngIf",e.image),l(),_("ngIf",!e.image),l(4),_("ngIf",e.ci_time),l(),_("ngIf",!e.ci_time),l(),_("ngIf",e.qc_lock!==1),l(),_("ngIf",e.ci_photo),l(),_("ngIf",!e.ci_photo),l(),_("ngIf",e.ci_photo),l(4),_("ngIf",e.co_time),l(),_("ngIf",!e.co_time),l(),_("ngIf",e.qc_lock!==1),l(),_("ngIf",e.co_photo),l(),_("ngIf",!e.co_photo),l(),_("ngIf",e.co_photo),l(2),b("ngModel",t.commentText[i])}}function ei(s,g){if(s&1&&(n(0,"table",56)(1,"thead")(2,"tr",57)(3,"th",58),c(4,"M\xE3 BC"),a(),n(5,"th",59),c(6,"Guild ID"),a(),n(7,"th"),c(8,"Nh\xE2n vi\xEAn"),a(),n(9,"th"),c(10,"KQ CI AI"),a(),n(11,"th"),c(12,"KQ CI QC"),a(),n(13,"th"),c(14,"Tr\u1EA1ng th\xE1i QC CI"),a(),n(15,"th"),c(16,"KQ CO AI"),a(),n(17,"th"),c(18,"KQ CO QC"),a(),n(19,"th"),c(20,"Tr\u1EA1ng th\xE1i QC CO"),a(),n(21,"th"),c(22,"C\u1EEDa h\xE0ng"),a(),n(23,"th"),c(24,"Ng\xE0y l\xE0m vi\u1EC7c"),a(),n(25,"th"),c(26,"T\xEAn QC"),a(),n(27,"th"),c(28,"Tr\u1EA1ng th\xE1i"),a()()(),n(29,"tbody"),y(30,gt,4,0,"ng-container",31)(31,$t,91,80,"ng-container",60),a()()),s&2){let e=p();l(30),_("ngIf",e.listAttendance.length===0),l(),_("ngForOf",e.listAttendance)}}function ti(s,g){if(s&1){let e=k();n(0,"div",126),h("click",function(){m(e);let t=p();return u(t.closePopup())}),n(1,"img",127),h("click",function(t){return m(e),u(t.stopPropagation())}),a()()}if(s&2){let e=p();l(),_("src",e.selectedImage,R)}}function ii(s,g){if(s&1){let e=k();n(0,"c-smart-pagination",130),h("activePageChange",function(t){m(e);let o=p(2);return u(o.onPageChange(t))}),a()}if(s&2){let e=p(2);_("activePage",e.currentPage)("pages",e.pagination)}}function ni(s,g){if(s&1){let e=k();n(0,"div",11),y(1,ii,1,2,"c-smart-pagination",128),n(2,"input",129),C("ngModelChange",function(t){m(e);let o=p();return f(o.gotoPage,t)||(o.gotoPage=t),u(t)}),h("keyup.enter",function(){m(e);let t=p();return u(t.jumpToPage())}),a()()}if(s&2){let e=p();l(),_("ngIf",e.listAttendance),l(),b("ngModel",e.gotoPage),_("max",e.pagination)}}var Pi=(()=>{class s{constructor(e,i){this._service=e,this.iconSet=i,this.user_id=0,this.isSup=!1,this.formatDate=t=>{let o=String(t.getDate()).padStart(2,"0"),r=String(t.getMonth()+1).padStart(2,"0"),d=t.getFullYear();return`${o}/${r}/${d}`},this.columns=[{key:"empid",label:"Employee"},{key:"ci_result",label:"K\u1EBFt qu\u1EA3 checkin"},{key:"ci_final_result",label:"K\u1EBFt qu\u1EA3 checkin cu\u1ED1i c\xF9ng"},{key:"ci_fail_reason",label:"L\xFD do checkin th\u1EA5t b\u1EA1i"},{key:"co_final_result",label:"K\u1EBFt qu\u1EA3 checkout cu\u1ED1i c\xF9ng"},{key:"co_fail_reason",label:"L\xFD do checkout th\u1EA5t b\u1EA1i"}],this.listFailAttendance=[{key:"100020",label:"Ch\u1EE5p kh\xF4ng th\u1EA5y r\xF5 m\u1EB7t, m\u1EDD, nh\xF2e,t\u1ED1i"},{key:"100021",label:"\u0110eo kh\u1EA9u trang"},{key:"100022",label:"H\xECnh kh\xF4ng \u0111\u01B0\u1EE3c ch\u1EE5p tr\u1EF1c ti\u1EBFp"},{key:"100023",label:"H\xECnh ch\u1EE5p kh\xF4ng kh\u1EDBp v\u1EDBi th\xF4ng tin h\u1ED3 s\u01A1"},{key:"100024",label:"H\xECnh ch\u1EE5p kh\xF4ng th\u1EC3 hi\u1EC7n trong khu v\u1EF1c CH"},{key:"100025",label:"Kh\xF4ng c\xF3 h\xECnh"},{key:"1",label:"L\xFD do kh\xE1c"}],this.project_id=44,this.ci_result="",this.co_result="",this.final_result={},this.co_final_result={},this.result_qc="",this.fail_reason="",this.work_date=0,this.ci_final_result_filter="",this.co_final_result_filter="",this.qc_lock=-1,this.id_BC="",this.guild_id="",this.att_code="",this.emp_code="",this.expandedRows={},this.reasonCheckInFail={},this.reasonCheckOutFail={},this.pageNumber=1,this.rowPerPageEmp=20,this.employee_code="",this.attendanceStatus={},this.selectedLabelsFail={},this.selectedCheckFailCI={},this.selectedCheckFailCO={},this.visiableReasonAnotherCI=[],this.visiableReasonAnotherCO=[],this.loadding_detect_ci=!1,this.loadding_detect_co=!1,this.reasonAnotherFailCI={},this.reasonAnotherFailCO={},this.kqqc=-1,this.kqai=-1,this.rowPerPage=20,this.totalRow=0,this.pagination=1,this.shop_code="",this.isLoading=!1,this.status=-1,this.confirmLockVisible=!1,this.selectedItemLock=null,this.itemLock=0,this.currentPage=1,this.visible_toast=!1,this.message_toast="",this.toast={visible_toast:!1,message_toast:"",background:""},this.chooseModalProfile=!1,this.gotoPage=1,this.commentText={},this.selectedImage=null,this.visableModalChangeImage=!1,this.itemChangeImage={item:[],i:0,type:""},this.visableModalUpdateImage=!1,this.showImportFile=!1,i.icons={cilLockLocked:Ge,cilLockUnlocked:He,cilFace:Ne,cilSave:Xe,cilSearch:Je,cilDataTransferDown:je,cilWindowMinimize:$e,cilSettings:Ze,cilArrowCircleTop:Ue,cilSend:Ye,cilCheckCircle:Ke,cilXCircle:et,cilLevelUp:Qe,cilPaperclip:ze}}ngOnInit(){this.user_id=H.loadUser().employee_id,this.isSup=H.loadUser().employee_type_id==3,this.get_color_font_shopcode_revision(),this.fromDate=new Date,this.toDate=new Date}getFailReasonText(e){return`Kh\xF4ng \u0111\u1EA1t: ${e}`}filter(e){this.currentPage=e,this.resetKQQC(),this.emp_code&&(this.att_code=this.emp_code),this.expandedRows={},this.pageNumber=e,this.isLoading=!0,this._service.ewo_ATD_filterAttendance(this.user_id,this.project_id,this.att_code,this.shop_code,P.DateToInt(this.fromDate),P.DateToInt(this.toDate),this.kqai,this.kqqc,this.guild_id,this.rowPerPage,this.pageNumber,this.qc_lock,this.id_BC).subscribe(i=>{if(i.result=="OK"){let t=i.data;this.listAttendance=t,this.initAttendanceData(),this.att_code="",this.isLoading=!1,this.totalRow=this.listAttendance[0]?.TotalRows|0,this.pagination=Math.ceil(this.totalRow/this.rowPerPage)}})}export(){this.emp_code&&(this.att_code=this.emp_code),this.isLoading=!0,this._service.ExportAttendanceAI(this.project_id,this.user_id,P.DateToInt(this.fromDate),P.DateToInt(this.toDate),this.att_code,this.shop_code,this.kqai,this.kqqc,this.guild_id,this.qc_lock,this.id_BC).subscribe({next:e=>{this.saveFileExcel(e,".xlsx","atd_result")},error:e=>{console.error("Export failed:",e)},complete:()=>{this.isLoading=!1}})}saveFileExcel(e,i=".xlsx",t=""){let o=new Date,r="download_"+t+"_"+o.getFullYear().toString()+(o.getMonth()+1)+o.getDate()+o.toLocaleTimeString().replace(/[ ]|[,]|[:]/g,"").trim()+i;(0,lt.saveAs)(e,r)}initAttendanceData(){this.listAttendance.forEach((e,i)=>{this.reasonCheckInFail[i]=e.ci_reason_id?.trim()||"",this.selectedCheckFailCI[i]=this.reasonCheckInFail[i]||"",this.reasonCheckOutFail[i]=e.co_reason_id?.trim()||"",this.selectedCheckFailCO[i]=this.reasonCheckOutFail[i],this.commentText[i]=e.comment||"",this.final_result[i]=e.ci_final_result||"",this.co_final_result[i]=e.co_final_result||"",this.visiableReasonAnotherCI[i]=this.reasonCheckInFail[i]==="1",this.visiableReasonAnotherCO[i]=this.reasonCheckOutFail[i]==="1",this.reasonAnotherFailCI[i]=e.ci_note||"",this.reasonAnotherFailCO[i]=e.co_note||""})}handleDetectAI(e,i,t){let o=i.image,r="";t=="checkin"?(r=i.ci_photo,this.loadding_detect_ci=!0):(r=i.co_photo,this.loadding_detect_co=!0),this._service.recheck_ResultAICiCo(r,o,this.project_id,this.user_id,i.id,t).subscribe(d=>{d.result===G.ok&&(t=="checkin"?this.loadding_detect_ci=!1:this.loadding_detect_co=!1,this.listAttendance[e].brandAiOk=d.brandAiOk,this.listAttendance[e].faceVerifyAiOk=d.faceVerifyAiOk,this.listAttendance[e].locationAiOk=d.locationAiOk,this.toggleToast("Detect th\xE0nh c\xF4ng","bg-success"))})}handleRadioChange(e,i,t,o){let r=t.target.checked;o?(this.selectedCheckFailCI[e]=i,this.visiableReasonAnotherCI[e]=i==="1"&&r):(this.selectedCheckFailCO[e]=i,this.visiableReasonAnotherCO[e]=i==="1"&&r),o?this.selectedCheckFailCI[e]=i:this.selectedCheckFailCO[e]=i}updateCheckAttendance(e,i){this.fail_reason="";let t="",o="",r;if(i=="checkin"){if((this.listAttendance[e].ci_FaceVerifyOk=="0"||this.listAttendance[e].ci_LocationOk=="0"||this.listAttendance[e].ci_brandOk=="0")&&this.final_result[e]=="true"){this.toggleToast("Sai logic! Kh\xF4ng th\u1EC3 update","bg-danger");return}if(this.listAttendance[e].ci_FaceVerifyOk=="1"&&this.listAttendance[e].ci_LocationOk=="1"&&this.listAttendance[e].ci_brandOk=="1"&&this.final_result[e]=="false"){this.toggleToast("Sai logic! Kh\xF4ng th\u1EC3 update","bg-danger");return}if(this.final_result[e]=="false"){if(this.fail_reason=this.selectedCheckFailCI[e]||"",!this.selectedCheckFailCI[e]){this.toggleToast("H\xE3y ch\u1ECDn l\xFD do kh\xF4ng \u0111\u1EA1t c\u1EE7a "+i,"bg-danger");return}if(this.selectedCheckFailCI[e]==="1"&&!this.reasonAnotherFailCI[e]){this.toggleToast("H\xE3y nh\u1EADp l\xFD do kh\xF4ng \u0111\u1EA1t c\u1EE7a "+i,"bg-danger");return}r=this.selectedCheckFailCI[e],o=this.getFailReasonLabels(r)}this.result_qc=this.final_result[e],this.selectedCheckFailCI[e]=="1"?t=this.reasonAnotherFailCI[e]:t=""}else{if((this.listAttendance[e].co_FaceVerifyOk=="0"||this.listAttendance[e].co_LocationOk=="0"||this.listAttendance[e].co_brandOk=="0")&&this.co_final_result[e]=="true"){this.toggleToast("Sai logic! Kh\xF4ng th\u1EC3 update","bg-danger");return}if(this.listAttendance[e].co_FaceVerifyOk=="1"&&this.listAttendance[e].co_LocationOk=="1"&&this.listAttendance[e].co_brandOk=="1"&&this.co_final_result[e]=="false"){this.toggleToast("Sai logic! Kh\xF4ng th\u1EC3 update","bg-danger");return}if(this.co_final_result[e]=="false"){if(this.fail_reason=this.selectedCheckFailCO[e]||"",!this.selectedCheckFailCO[e]){this.toggleToast("H\xE3y ch\u1ECDn l\xFD do kh\xF4ng \u0111\u1EA1t c\u1EE7a "+i,"bg-danger");return}if(this.selectedCheckFailCO[e]==="1"&&!this.reasonAnotherFailCO[e]){this.toggleToast("H\xE3y nh\u1EADp l\xFD do kh\xF4ng \u0111\u1EA1t c\u1EE7a "+i,"bg-danger");return}r=this.selectedCheckFailCO[e],o=this.getFailReasonLabels(r)}this.result_qc=this.co_final_result[e],this.selectedCheckFailCO[e]=="1"?t=this.reasonAnotherFailCO[e]:t=""}this.att_code=this.listAttendance[e].att_code,this.ci_time=this.listAttendance[e].ci_time,this._service.ewo_ATD_updateEmployees(this.user_id,this.project_id,i,this.fail_reason,this.result_qc,this.listAttendance[e].id,t,i=="checkin"?this.listAttendance[e].ci_FaceVerifyOk:this.listAttendance[e].co_FaceVerifyOk,i=="checkin"?this.listAttendance[e].ci_LocationOk:this.listAttendance[e].co_LocationOk,i=="checkin"?this.listAttendance[e].ci_brandOk:this.listAttendance[e].co_brandOk).subscribe(d=>{d.result==="OK"?(this.att_code="",i=="checkin"?(this.listAttendance[e].ci_final_result=this.result_qc,this.listAttendance[e].ci_note=t,this.listAttendance[e].ci_reason_id=Number(this.fail_reason),this.listAttendance[e].ci_fail_reason=o):(this.listAttendance[e].co_final_result=this.result_qc,this.listAttendance[e].co_note=t,this.listAttendance[e].co_reason_id=Number(this.fail_reason),this.listAttendance[e].co_fail_reason=o),this.toggleToast("C\u1EADp nh\u1EADt th\xE0nh c\xF4ng","bg-success")):this.message_toast="C\u1EADp nh\u1EADt th\u1EA5t b\u1EA1i"},d=>{this.toggleToast("C\u1EADp nh\u1EADt th\u1EA5t b\u1EA1i ","bg-danger")})}getFailReasonLabels(e){return e.split(",").map(i=>{let t=this.listFailAttendance.find(o=>o.key===i.trim());return t?t.label:i.trim()}).filter(i=>i.trim()!=="").join(", ")}resetKQQC(){this.ci_result="",this.co_result="",this.ci_final_result_filter="",this.co_final_result_filter=""}lockAtdItem(e){if(this.confirmLockVisible=!1,e.qc_lock!==1&&!e.ci_final_result||!e.co_final_result){this.toggleToast("Kh\xF4ng th\u1EC3 kh\xF3a khi ch\u01B0a QC xong","bg-danger");return}this._service.ewo_ATD_lockAttendance(this.user_id,this.project_id,e.att_code,e.work_date,e.ci_time,e.id_BC).subscribe(i=>{i.result=="OK"&&(e.qc_lock==1?e.qc_lock=0:e.qc_lock=1,e.qc_lock==1?this.toggleToast("Kh\xF3a th\xE0nh c\xF4ng","bg-success"):this.toggleToast("M\u1EDF kh\xF3a th\xE0nh c\xF4ng","bg-success"))})}openConfirmModal(e){this.isSup&&(e.qc_lock==1?this.itemLock=1:this.itemLock=0,this.selectedItemLock=e,this.confirmLockVisible=!0)}confirmAction(){this.lockAtdItem(this.selectedItemLock)}onPageChange(e){this.currentPage=e,this.filter(e)}isCheckedCI(e,i){return this.reasonCheckInFail[e]==i}isCheckedCO(e,i){return this.reasonCheckOutFail[e]==i}toggleToast(e,i){this.toast.visible_toast=!0,this.toast.background=i,this.toast.message_toast=e,setTimeout(()=>{this.toast.visible_toast=!1},2e3)}makeProfile(e,i,t){if(this.chooseModalProfile=!1,!e.ci_photo){this.toggleToast("Kh\xF4ng c\xF3 \u1EA3nh \u0111\u1EC3 c\u1EADp nh\u1EADt","bg-danger");return}let o;t==="checkin"?o=e.ci_photo:o=e.co_photo,this._service.detectAi_updateImgProfile(this.user_id,this.project_id,o,e.att_code,e.emp_name,e.id).subscribe(r=>{r.result==="OK"?(e.image=o,this.toggleToast("C\u1EADp nh\u1EADt th\xE0nh c\xF4ng","bg-success")):this.toast.message_toast="C\u1EADp nh\u1EADt \u1EA3nh th\u1EA5t b\u1EA1i"})}makeImageProfile(e){this.chooseModalProfile=!1;let i=this.imageProfile;this._service.detectAi_updateImgProfile(this.user_id,this.project_id,i,e.att_code,e.emp_name,e.id).subscribe(t=>{t.result==="OK"?(e.image=e.ci_photo,this.toggleToast("C\u1EADp nh\u1EADt th\xE0nh c\xF4ng","bg-success")):this.toast.message_toast="C\u1EADp nh\u1EADt \u1EA3nh th\u1EA5t b\u1EA1i"})}jumpToPage(){this.currentPage=this.gotoPage,this.filter(this.currentPage)}handleScrollOnTop(){window.scrollTo({top:0,behavior:"smooth"})}submitComment(e,i){this._service.detectAi_commentNote(e.att_code,e.ci_time,e.work_date,this.project_id,this.user_id,this.commentText[i],e.id_BC).subscribe(t=>{t.result==="OK"?(this.listAttendance[i].comment=this.commentText[i],this.toggleToast("C\u1EADp nh\u1EADt th\xE0nh c\xF4ng","bg-success")):this.toast.message_toast="Comment th\u1EA5t b\u1EA1i"})}showImagePopup(e){this.selectedImage=e}closePopup(){this.selectedImage=null}confirmChangeImage(e,i,t){this.visableModalChangeImage=!0,this.itemChangeImage.item=e,this.itemChangeImage.i=i,this.itemChangeImage.type=t}confirmActionChangeImage(){this.makeProfile(this.itemChangeImage.item,this.itemChangeImage.i,this.itemChangeImage.type),this.visableModalChangeImage=!1}confirmUpdateImage(e,i){this.visableModalUpdateImage=!0,this.itemUpdateImage=e}resetFileImg(){let e=document.getElementById("fileImg");e&&(e.value=""),this.fileUpdateImg=null}onFileSelected(e){let i=e.target.files[0];i&&(this.fileUpdateImg=i)}handleUpdateImg(){let e=new FormData;e.append("files",this.fileUpdateImg),this.fileUpdateImg?this._service.ewo_ATD_uploadImgProfile(this.user_id,this.project_id,this.itemUpdateImage.id,this.itemUpdateImage.att_code,e).subscribe(i=>{let t=i.data;i.result==G.ok?(this.toggleToast("C\u1EADp nh\u1EADt th\xE0nh c\xF4ng","bg-success"),this.resetFileImg(),this.itemUpdateImage.image=t[0][""]):(this.toggleToast("C\u1EADp nh\u1EADt th\u1EA5t b\u1EA1i","bg-danger"),this.resetFileImg()),this.visableModalUpdateImage=!1}):this.toggleToast("Kh\xF4ng c\xF3 \u1EA3nh \u0111\u1EC3 c\u1EADp nh\u1EADt","bg-danger")}getTemplate(e){e=="lock"?this._service.DetectAI_getTemplateCiCo(this.project_id,this.user_id):this._service.DetectAI_getTemplateUnlockCiCo(this.project_id,this.user_id)}onFileChange(e,i){let t=e.target.files[0];t&&(i=="lock"?this.fileImportLock=t:this.fileImportUnlock=t)}importFileLock(e){let i=new FormData;if(i.append("user_id",this.user_id.toString()),i.append("project_id",this.project_id.toString()),e=="lock"){if(i.append("files",this.fileImportLock),!this.fileImportLock){this.toggleToast("Ch\u01B0a c\xF3 file n\xE0o import","bg-danger");return}}else if(e=="unlock"&&(i.append("files",this.fileImportUnlock),!this.fileImportUnlock)){this.toggleToast("Ch\u01B0a c\xF3 file n\xE0o import","bg-danger");return}e=="lock"?(this._service.ATD_ImportEmpLock(i).subscribe(t=>{let o=new FileReader;o.onload=()=>{try{let r=JSON.parse(o.result);r.result=="ERROR"?this.toggleToast(r.message,"bg-danger"):r.result=="OK"?this.toggleToast(r.message,"bg-success"):this.toggleToast("Thao t\xE1c kh\xF4ng x\xE1c \u0111\u1ECBnh","bg-warning")}catch{this.saveFile(t,".xlsx","result_LockATD"),this.toggleToast("C\xF3 l\u1ED7i x\u1EA3y ra! Nh\u1EADn file k\u1EBFt qu\u1EA3","bg-danger")}},o.readAsText(t)},t=>{this.toggleToast("L\u1ED7i t\u1EA3i file .","bg-danger")}),this.resetFileInput("lock")):e=="unlock"&&(this._service.ATD_ImportEmpUnLock(i).subscribe(t=>{let o=new FileReader;o.onload=()=>{try{let r=JSON.parse(o.result);r.result=="ERROR"?this.toggleToast(r.message,"bg-danger"):r.result=="OK"?this.toggleToast(r.message,"bg-success"):this.toggleToast("Thao t\xE1c kh\xF4ng x\xE1c \u0111\u1ECBnh","bg-warning")}catch{this.saveFile(t,".xlsx","result_UnLockATD"),this.toggleToast("C\xF3 l\u1ED7i x\u1EA3y ra! Nh\u1EADn file k\u1EBFt qu\u1EA3","bg-danger")}},o.readAsText(t)},t=>{this.toggleToast("L\u1ED7i t\u1EA3i file .","bg-danger")}),this.resetFileInput("unlock"))}resetFileInput(e){if(e=="lock"){let i=document.getElementById("formFileImport");i&&(i.value=""),this.fileImportLock=null}else{let i=document.getElementById("formFileImportUnlock");i&&(i.value=""),this.fileImportUnlock=null}}ewo_ATD_uploadImgProfile(){}saveFile(e,i,t){let o=new Blob([e],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),r=window.URL.createObjectURL(o),d=document.createElement("a");d.href=r;let E=new Date;t="download_"+t+"_"+E.getFullYear().toString()+(E.getMonth()+1)+E.getDate()+E.toLocaleTimeString().replace(/[ ]|[,]|[:]/g,"").trim(),d.download=`${t}${i}`,document.body.appendChild(d),d.click(),document.body.removeChild(d),window.URL.revokeObjectURL(r)}get_color_font_shopcode_revision(){this._service.get_color_font_shopcode_revision(44).subscribe(e=>{this.color_font_shopcode=JSON.parse(e.data[0].group_class).color_font.hex,this.list_shop=JSON.parse(e.data[0].config),console.log(this.color_font_shopcode)})}onChangSwitch(e,i,t,o){console.log("dataitem changed to:",i)}static{this.\u0275fac=function(i){return new(i||s)(j(at),j(W))}}static{this.\u0275cmp=Y({type:s,selectors:[["app-attendance-result"]],features:[ee([W])],decls:151,vars:30,consts:[["datePicker","cDatePicker"],[1,"mt-1","mb-1"],[1,"p-2"],["md","3"],[1,"clearfix"],[1,"pt-3"],["inputReadOnly","",3,"ngModelChange","ngModel","inputDateFormat"],[1,"input-prepend"],["cFormControl","","placeholder","Nh\u1EADp m\xE3 b\xE1o c\xE1o","type","text",3,"ngModelChange","ngModel"],["cFormControl","","placeholder","Nh\u1EADp m\xE3 nh\xE2n vi\xEAn","type","text",3,"ngModelChange","ngModel"],["cFormControl","","placeholder","Nh\u1EADp m\xE3 c\u1EEDa h\xE0ng","type","text",3,"ngModelChange","ngModel"],[2,"display","flex","gap","10px"],["cSelect","",2,"width","100%","padding","6px 12px","border","1px solid #dbdfe6",3,"ngModelChange","ngModel"],["value","-1"],["value","0"],["value","1"],["value","2"],["value","3"],["value","4"],["value","5"],[1,""],["cFormControl","","placeholder","Nh\u1EADp m\xE3 guild id","type","text",3,"ngModelChange","ngModel"],[2,"display","flex","gap","5px"],["cButton","","color","primary",3,"click"],["cIcon","","name","cilSearch"],["cIcon","","name","cilDataTransferDown"],["cButton","","color","primary",3,"click",4,"ngIf"],["class","my-2",4,"ngIf"],["class","fade show","style","text-align: center; height: 20vh ; padding-top:calc(20vh / 2); background-color: white;",4,"ngIf"],[2,"position","fixed","top","80px","right","0","background-color","cornflowerblue","color","white","z-index","1000",3,"autohide","delay","visible"],[1,"mr-auto"],[4,"ngIf"],["class","table","style","table-layout: fixed; width: 100%;",4,"ngIf"],["style",`
    position: fixed;
    top: 0; left: 0;
    width: 100vw; height: 100vh;
    background: rgba(0,0,0,0.6);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 9000;
  `,3,"click",4,"ngIf"],[3,"visibleChange","visible"],[1,"modal-title"],[1,"btn-close",3,"click"],[1,"btn","btn-secondary",3,"click"],[1,"btn","btn-primary",3,"click"],["cFormControl","","id","fileImg","placeholder","Nh\u1EADp h\xECnh b\xE1o c\xE1o","type","file",3,"change"],["style","display: flex; gap: 10px;",4,"ngIf"],[1,"position-fixed","end-0","bottom-0","m-4",2,"cursor","pointer",3,"click"],["cIcon","","name","cilArrowCircleTop",1,"bg-white","rounded","p-2",2,"width","40px","height","40px"],["color","#ff0000",3,"height"],["cIcon","","name","cilLevelUp"],[1,"my-2"],[2,"display","flex","align-items","center","gap","5px","width","700px"],[1,"m-0"],["cFormControl","","id","formFileImport","type","file",3,"change"],["cButton","","color","primary",2,"min-width","150px",3,"click"],["cIcon","","name","cilPaperclip"],[2,"display","flex","align-items","center","gap","5px","width","700px","margin-top","10px"],["cFormControl","","id","formFileImportUnlock","type","file",3,"change"],[1,"fade","show",2,"text-align","center","height","20vh","padding-top","calc(20vh / 2)","background-color","white"],[1,"spinner-grow","spinner-grow-sm","text-success"],[1,"m-1","text-success"],[1,"table",2,"table-layout","fixed","width","100%"],[2,"text-align","center"],[2,"width","80px"],[2,"width","90px"],[4,"ngFor","ngForOf"],["colspan","13",1,"text-center","p-5"],[3,"ngClass"],["style","color:green","cIcon","","name","cilCheckCircle",4,"ngIf"],["style","color:red","cIcon","","name","cilXCircle",4,"ngIf"],["cIcon","","name","cilWindowMinimize",4,"ngIf"],[1,"m-0",3,"ngClass"],[2,"cursor","pointer",3,"click","ngStyle"],["cIcon","","name","cilLockLocked",4,"ngIf"],["cIcon","","name","cilLockUnlocked",4,"ngIf"],["colspan","13"],[2,"padding","15px 50px","text-align","center"],["for","",2,"width","100%","font-weight","bold"],[1,"w-full"],["class","my-2","cButton","","color","primary",3,"click",4,"ngIf"],["alt","img","width","250","height","250",3,"src","click",4,"ngIf"],["src","../../../../assets/images/avatars/default-avatar.jpg","alt","","width","250","height","250",4,"ngIf"],[1,"checkin-container"],["for","",2,"width","100%"],["class","my-2 d-flex gap-2 justify-content-end",4,"ngIf"],["alt","img-check-out","width","250","height","250",3,"src","click",4,"ngIf"],["for",""],[2,"margin","auto 0"],[2,"padding","10px","border","1px solid #ccc","border-radius","5px","width","100%",3,"ngModelChange","ngModel"],["cButton","","color","primary",2,"padding","10px 15px","font-weight","bold","background-color","blue","color","white",3,"click"],["cIcon","","name","cilCheckCircle",2,"color","green"],["cIcon","","name","cilXCircle",2,"color","red"],["cIcon","","name","cilWindowMinimize"],["cIcon","","name","cilLockLocked"],["cIcon","","name","cilLockUnlocked"],["cButton","","color","primary",1,"my-2",3,"click"],["cIcon","","name","cilSettings"],["alt","img","width","250","height","250",3,"click","src"],["src","../../../../assets/images/avatars/default-avatar.jpg","alt","","width","250","height","250"],[1,"my-2","d-flex","gap-2","justify-content-end"],["class","spinner-border text-primary","role","status",4,"ngIf"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],["cIcon","","name","cilCheckCircle"],["alt","img-check-out","width","250","height","250",3,"click","src"],[2,"padding","15px"],[2,"margin","0 0 10px","text-align","center","font-size","16px","font-weight","bold","color","#333"],[2,"display","flex","flex-direction","column","gap","10px"],[2,"display","flex","justify-content","space-between","align-items","center"],["cSelect","",2,"padding","5px","border-radius","5px","border","1px solid #ccc",3,"ngModelChange","ngModel","disabled"],[3,"value"],[1,"form-container"],[1,"radio-group-container",2,"display","grid","gap","10px","max-width","500px","margin","auto"],[1,"radio-row",2,"display","flex","justify-content","space-between","gap","10px"],[2,"flex","1","background","#f8f9fa","padding","10px","border-radius","8px","text-align","center"],["cFormCheckInput","","type","radio","value","true",3,"ngModelChange","name","disabled","ngModel"],["cFormCheckLabel",""],["cFormCheckInput","","type","radio","value","false",3,"ngModelChange","name","disabled","ngModel"],["cFormCheckInput","","type","radio","value","unidentified",3,"ngModelChange","name","disabled","ngModel"],["cFormCheckInput","","type","radio","value","wrong_unifrom",3,"ngModelChange","name","disabled","ngModel"],["class","fail-options","style","display: flex; flex-direction: column; align-items: baseline;",4,"ngIf"],["style","text-align: center;",4,"ngIf"],[1,"fail-options",2,"display","flex","flex-direction","column","align-items","baseline"],["class","w-100",4,"ngIf"],["cFormCheckInput","","type","radio",3,"change","id","disabled","checked","name"],[1,"w-100"],["type","text","placeholder","Nh\u1EADp l\xFD do kh\xF4ng \u0111\u1EA1t",1,"w-100",2,"padding","5px",3,"ngModelChange","ngModel","disabled"],["cButton","","color","warning",2,"margin","10px 0",3,"click"],["cIcon","","name","cilSave"],["class","fail-options",4,"ngIf"],[1,"fail-options"],[2,"position","fixed","top","0","left","0","width","100vw","height","100vh","background","rgba(0,0,0,0.6)","display","flex","align-items","center","justify-content","center","z-index","9000",3,"click"],["alt","Popup",2,"max-width","90%","max-height","90%","border","5px solid white","border-radius","8px",3,"click","src"],["align","center",3,"activePage","pages","activePageChange",4,"ngIf"],["type","number","min","1",2,"width","80px","height","36px","padding","5px","border","1px solid #ccc","border-radius","5px","text-align","center",3,"ngModelChange","keyup.enter","ngModel","max"],["align","center",3,"activePageChange","activePage","pages"]],template:function(i,t){if(i&1){let o=k();n(0,"c-card",1)(1,"c-row",2)(2,"c-col",3)(3,"span",4)(4,"h6",5),c(5,"T\u1EEB ng\xE0y"),a()(),n(6,"c-date-picker",6,0),C("ngModelChange",function(d){return m(o),f(t.fromDate,d)||(t.fromDate=d),u(d)}),a()(),n(8,"c-col",3)(9,"span",4)(10,"h6",5),c(11,"\u0110\u1EBFn ng\xE0y"),a()(),n(12,"c-date-picker",6,0),C("ngModelChange",function(d){return m(o),f(t.toDate,d)||(t.toDate=d),u(d)}),a()(),n(14,"c-col",3)(15,"span",4)(16,"h6",5),c(17,"M\xE3 b\xE1o c\xE1o"),a()(),n(18,"c-input-group",7)(19,"input",8),C("ngModelChange",function(d){return m(o),f(t.id_BC,d)||(t.id_BC=d),u(d)}),a()()(),n(20,"c-col",3)(21,"span",4)(22,"h6",5),c(23,"Nh\xE2n Vi\xEAn"),a()(),n(24,"c-input-group",7)(25,"input",9),C("ngModelChange",function(d){return m(o),f(t.emp_code,d)||(t.emp_code=d),u(d)}),a()()(),n(26,"c-col",3)(27,"span",4)(28,"h6",5),c(29,"C\u1EEDa h\xE0ng"),a()(),n(30,"c-input-group",7)(31,"input",10),C("ngModelChange",function(d){return m(o),f(t.shop_code,d)||(t.shop_code=d),u(d)}),a()()(),n(32,"c-col",3)(33,"span",4)(34,"h6",5),c(35,"K\u1EBFt qu\u1EA3 AI"),a()(),n(36,"div",11)(37,"select",12),C("ngModelChange",function(d){return m(o),f(t.kqai,d)||(t.kqai=d),u(d)}),n(38,"option",13),c(39,"T\u1EA5t c\u1EA3"),a(),n(40,"option",14),c(41,"1 - Ch\u01B0a c\xF3 KQ CI AI"),a(),n(42,"option",15),c(43,"2 - Ch\u01B0a c\xF3 KQ CO AI"),a(),n(44,"option",16),c(45,"3 - AI Check-in - True"),a(),n(46,"option",17),c(47,"4 - AI Check-in - False"),a(),n(48,"option",18),c(49,"5 - AI Check-out - True"),a(),n(50,"option",19),c(51,"6 - AI Check-out - False"),a()()()(),n(52,"c-col",3)(53,"span",4)(54,"h6",5),c(55,"K\u1EBFt qu\u1EA3 QC"),a()(),n(56,"div",11)(57,"select",12),C("ngModelChange",function(d){return m(o),f(t.kqqc,d)||(t.kqqc=d),u(d)}),n(58,"option",13),c(59,"T\u1EA5t c\u1EA3"),a(),n(60,"option",14),c(61,"1 - Ch\u01B0a c\xF3 KQ CI QC"),a(),n(62,"option",15),c(63,"2 - Ch\u01B0a c\xF3 KQ CO QC"),a(),n(64,"option",16),c(65,"3 - QC Check-in - True"),a(),n(66,"option",17),c(67,"4 - QC Check-in - False"),a(),n(68,"option",18),c(69,"5 - QC Check-out - True"),a(),n(70,"option",19),c(71,"6 - QC Check-out - False"),a()()()(),n(72,"c-col",3)(73,"span",4)(74,"h6",5),c(75,"Tr\u1EA1ng th\xE1i"),a()(),n(76,"div",20)(77,"select",12),C("ngModelChange",function(d){return m(o),f(t.qc_lock,d)||(t.qc_lock=d),u(d)}),n(78,"option",13),c(79,"T\u1EA5t c\u1EA3"),a(),n(80,"option",14),c(81,"Ch\u01B0a kho\xE1"),a(),n(82,"option",15),c(83,"\u0110\xE3 kho\xE1"),a()()()(),n(84,"c-col",3)(85,"span",4)(86,"h6",5),c(87,"Guild ID"),a()(),n(88,"c-input-group",7)(89,"input",21),C("ngModelChange",function(d){return m(o),f(t.guild_id,d)||(t.guild_id=d),u(d)}),a()()(),n(90,"c-row",2)(91,"div",22)(92,"button",23),h("click",function(){return m(o),u(t.filter(1))}),v(),x(93,"svg",24),c(94," T\xECm ki\u1EBFm"),a(),O(),n(95,"button",23),h("click",function(){return m(o),u(t.export())}),v(),x(96,"svg",25),c(97," Export"),a(),y(98,dt,3,0,"button",26),a(),y(99,pt,19,0,"div",27),a()()(),y(100,mt,4,0,"div",28),O(),n(101,"c-toast",29)(102,"c-toast-header")(103,"strong",30),c(104,"Th\xF4ng b\xE1o"),a()(),n(105,"c-toast-body"),c(106),a()(),y(107,ut,2,2,"span",31)(108,ei,32,2,"table",32)(109,ti,2,1,"div",33),n(110,"c-modal",34),C("visibleChange",function(d){return m(o),f(t.confirmLockVisible,d)||(t.confirmLockVisible=d),u(d)}),n(111,"c-modal-header")(112,"h5",35),c(113,"X\xE1c nh\u1EADn"),a(),n(114,"button",36),h("click",function(){return m(o),u(t.confirmLockVisible=!1)}),a()(),n(115,"c-modal-body"),c(116),a(),n(117,"c-modal-footer")(118,"button",37),h("click",function(){return m(o),u(t.confirmLockVisible=!1)}),c(119,"H\u1EE7y"),a(),n(120,"button",38),h("click",function(){return m(o),u(t.confirmAction())}),c(121,"X\xE1c nh\u1EADn"),a()()(),n(122,"c-modal",34),C("visibleChange",function(d){return m(o),f(t.visableModalChangeImage,d)||(t.visableModalChangeImage=d),u(d)}),n(123,"c-modal-header")(124,"h5",35),c(125,"X\xE1c nh\u1EADn thay h\xECnh profile"),a(),n(126,"button",36),h("click",function(){return m(o),u(t.visableModalChangeImage=!1)}),a()(),n(127,"c-modal-body"),c(128," B\u1EA1n c\xF3 ch\u1EAFc ch\u1EAFn mu\u1ED1n thay \u0111\u1ED5i h\xECnh profile cho nh\xE2n vi\xEAn n\xE0y kh\xF4ng? "),a(),n(129,"c-modal-footer")(130,"button",37),h("click",function(){return m(o),u(t.visableModalChangeImage=!1)}),c(131,"H\u1EE7y"),a(),n(132,"button",38),h("click",function(){return m(o),u(t.confirmActionChangeImage())}),c(133,"X\xE1c nh\u1EADn"),a()()(),n(134,"c-modal",34),C("visibleChange",function(d){return m(o),f(t.visableModalUpdateImage,d)||(t.visableModalUpdateImage=d),u(d)}),n(135,"c-modal-header")(136,"h5",35),c(137,"Update h\xECnh profile"),a(),n(138,"button",36),h("click",function(){return m(o),u(t.visableModalUpdateImage=!1)}),a()(),n(139,"c-modal-body")(140,"c-input-group",7)(141,"input",39),h("change",function(d){return m(o),u(t.onFileSelected(d))}),a()()(),n(142,"c-modal-footer")(143,"button",37),h("click",function(){return m(o),u(t.visableModalUpdateImage=!1)}),c(144,"H\u1EE7y"),a(),n(145,"button",38),h("click",function(){return m(o),u(t.handleUpdateImg())}),c(146,"X\xE1c nh\u1EADn"),a()()(),y(147,ni,3,3,"div",40),n(148,"div",41),h("click",function(){return m(o),u(t.handleScrollOnTop())}),v(),x(149,"svg",42),a(),O(),x(150,"ngx-loading-bar",43)}i&2&&(l(6),b("ngModel",t.fromDate),_("inputDateFormat",t.formatDate),l(6),b("ngModel",t.toDate),_("inputDateFormat",t.formatDate),l(7),b("ngModel",t.id_BC),l(6),b("ngModel",t.emp_code),l(6),b("ngModel",t.shop_code),l(6),b("ngModel",t.kqai),l(20),b("ngModel",t.kqqc),l(20),b("ngModel",t.qc_lock),l(12),b("ngModel",t.guild_id),l(9),_("ngIf",t.isSup),l(),_("ngIf",t.showImportFile),l(),_("ngIf",t.isLoading),l(),_("autohide",!0)("delay",2e3)("visible",t.toast.visible_toast),l(4),$(t.toast.background),l(),A(" ",t.toast.message_toast," "),l(),_("ngIf",!t.isLoading&&(t.listAttendance==null?null:t.listAttendance.length)>0),l(),_("ngIf",t.listAttendance&&!t.isLoading),l(),_("ngIf",t.selectedImage),l(),b("visible",t.confirmLockVisible),l(6),A(" ",t.itemLock==1?"B\u1EA1n c\xF3 ch\u1EAFc ch\u1EAFn mu\u1ED1n m\u1EDF kho\xE1 k\u1EBFt qu\u1EA3 n\xE0y kh\xF4ng?":"B\u1EA1n c\xF3 ch\u1EAFc ch\u1EAFn mu\u1ED1n kho\xE1 k\u1EBFt qu\u1EA3 n\xE0y kh\xF4ng?"," "),l(6),b("visible",t.visableModalChangeImage),l(12),b("visible",t.visableModalUpdateImage),l(13),_("ngIf",t.listAttendance),l(3),_("height","5px"))},dependencies:[xe,Ce,fe,ue,ge,re,de,me,pe,se,be,he,_e,Te,Se,we,Ee,Ae,ve,Ie,Pe,Re,Le,ke,le,te,ie,ne,oe,ae,ye,Oe,Me,Fe,Ve,qe,We,De,Be,nt,it],styles:["table[_ngcontent-%COMP%]{border-collapse:collapse}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:5px 10px;border:1px solid #ccc}th[_ngcontent-%COMP%]{background-color:#f2f2f2;font-weight:500}.section-title[_ngcontent-%COMP%]{background-color:#ddd;font-size:16px;font-weight:700}th[_ngcontent-%COMP%]:nth-child(3), th[_ngcontent-%COMP%]:nth-child(4), th[_ngcontent-%COMP%]:nth-child(6), th[_ngcontent-%COMP%]:nth-child(7){min-width:150px}.checkin-container[_ngcontent-%COMP%]{background:#fff;padding:15px 50px;border-radius:8px;box-shadow:0 4px 10px #0000001a;max-width:450px;text-align:center}.checkin-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700;color:#333;display:block;margin-bottom:5px}.checkin-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;color:#555;font-weight:500}.checkin-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:10px;border:2px solid #ddd;transition:.3s}.checkin-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{border-color:#007bff;transform:scale(1.05)}.checkin-container[_ngcontent-%COMP%]   .ai-detect[_ngcontent-%COMP%]{background:linear-gradient(135deg,#007bff,#00d4ff);color:#fff;padding:10px;border-radius:8px;margin-top:15px}.checkin-container[_ngcontent-%COMP%]   .ai-detect[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0;font-size:18px;font-weight:700;text-transform:uppercase}.checkin-container[_ngcontent-%COMP%]   .radio-group[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:15px}.checkin-container[_ngcontent-%COMP%]   .radio-group[_ngcontent-%COMP%]   c-form-check[_ngcontent-%COMP%]{display:flex;align-items:center;gap:5px}.checkin-container[_ngcontent-%COMP%]   .fail-options[_ngcontent-%COMP%]{text-align:left;margin-left:15px;padding-top:10px}.checkin-container[_ngcontent-%COMP%]   .fail-options[_ngcontent-%COMP%]   c-form-check[_ngcontent-%COMP%]{display:flex;align-items:center;gap:5px}.checkin-container[_ngcontent-%COMP%]   .update-button[_ngcontent-%COMP%]{margin-top:15px}.checkin-container[_ngcontent-%COMP%]   .update-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px 18px;font-size:14px;border-radius:5px;cursor:pointer;font-weight:700;transition:.3s;background-color:#28a745;color:#fff;border:none}.checkin-container[_ngcontent-%COMP%]   .update-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#218838;transform:scale(1.05)}"]})}}return s})();export{Pi as AttendanceResultAbbottComponent};
